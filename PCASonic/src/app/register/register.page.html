<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons>
      <ion-button (click)="goToLogin()"><ion-icon name="arrow-back-circle-outline"></ion-icon></ion-button>
    </ion-buttons>
    <ion-title>Registrarme</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
 <figure class="ion-text-center">
    <img src="assets/images/Profile.jpg"/>
    <form [formGroup]="registerForm" (ngSubmit)="register(registerForm.value)">
      <ion-item>
        <ion-input label="Nombre" placeholder="escriba su nombre..." formControlName="name"></ion-input>
      </ion-item>

      <div>
        <ng-container *ngFor="let validation of validation_messages.name">
          <div *ngIf="(registerForm.get('name')?.hasError(validation.type) && 
          registerForm.get('name')?.dirty)">  
          {{validation.message}}  
        </div>
        </ng-container>
      </div>

      <ion-item>
        <ion-input label="Apellido" placeholder="escriba su apellido..." formControlName="last_name"></ion-input>
      </ion-item>

      <div>
        <ng-container *ngFor="let validation of validation_messages.last_name">
          <div *ngIf="(registerForm.get('last_name')?.hasError(validation.type) && 
          registerForm.get('last_name')?.dirty)">  
          {{validation.message}}  
        </div>
        </ng-container>
      </div>

      <ion-item>
        <ion-input label="Email" type="email" placeholder="email@pca.edu.co" formControlName="email"></ion-input>
      </ion-item>

      <div>
        <ng-container *ngFor="let validation of validation_messages.email">
          <div *ngIf="(registerForm.get('email')?.hasError(validation.type) && 
          registerForm.get('email')?.dirty)">  
          {{validation.message}}  
        </div>
        </ng-container>
      </div>
  
      <ion-item>
        <ion-input label="Contraseña" type="password" placeholder="escriba su contraseña..." formControlName="password"></ion-input>
      </ion-item>

      <div>
        <ng-container *ngFor="let validation of validation_messages.password">
          <div *ngIf="(registerForm.get('password')?.hasError(validation.type) && 
          registerForm.get('password')?.dirty)">  
          {{validation.message}}  
        </div>
        </ng-container>
      </div>
      <ion-button
      type="submit"
      expand="block"
      shape="round"
      color="success"
      [disabled]="!registerForm.valid">
        CREAR
      </ion-button>
  
    </form>
 </figure>
</ion-content>
